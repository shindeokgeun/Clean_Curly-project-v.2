{% load humanize %}

<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>í´ë¦°ì»¬ë¦¬</title>
    {% load static %}
    <link rel="stylesheet" href="{% static 'HOME_ë§ˆì¼“.css' %}">
    <link rel="stylesheet" href="{% static 'base.css' %}">
</head>
<body>
    <!-- haeder ìˆ˜ì • -->
    {% include 'common/header.html' %}

    <!-- íŒì—… -->
     <!-- ì˜¤ëŠ˜ í•˜ë£¨ ì•ˆë³´ê¸° ë²„íŠ¼ì„ ëˆ„ë¥´ê²Œ ë˜ë©´ ì¿ í‚¤ì— hidePopupì´ í™œì„±í™”ë˜ì–´ íŒì—…ì´ ìˆ¨ê²¨ì§€ê²Œ ë©ë‹ˆë‹¤.
          ë‹¤ì‹œ íŒì—…ì°½ í™œì„±í™” í•˜ê³  ì‹¶ìœ¼ë©´ í•´ë‹¹ í™ˆí˜ì´ì§€ì˜ ì¿ í‚¤ë¥¼ ì´ˆê¸°í™”í•˜ë©´ ë˜ëŠ”ë° ë°©ë²•ì€
          F12ë¡œ ê°œë°œì ë„êµ¬ì— ë“¤ì–´ê°„ë‹¤ìŒ Application ëˆ„ë¥¸ í›„ ì¢Œì¸¡ Storage ë‚´ Cookies ì•ˆì— í•´ë‹¹ í™ˆí˜ì´ì§€ ì£¼ì†Œì—ì„œ ìš°í´ë¦­ í›„ Clearë¥¼ í•´ì¤ë‹ˆë‹¤
          ì´í›„ ìƒˆë¡œê³ ì¹¨í•˜ë©´ íŒì—…ì´ ë“±ì¥í•©ë‹ˆë‹¤! (íŒì—…ì€ ì²˜ìŒ í™ˆí˜ì´ì§€ ì‹œì‘ì‹œì™€, ì™¼ìª½ ìƒë‹¨ì˜ í´ë¦° ì»¬ë¦¬ ë°°ë„ˆë¥¼ ëˆ„ë¥¼ì‹œ ìë™ìœ¼ë¡œ ë“±ì¥í•©ë‹ˆë‹¤.)-->
    <div class="popup" id="popupContainer">
        <dialog class="popup__container" id="popupDialog">
            <div class="popup__img">
                <a href="#">
                    <img class="img__detail" src="{% static 'images/popup.jpg' %}" alt="ì¹¼ë¦¬ ë·°í‹° í”Œë«í¼ ìƒì„¸í˜ì´ì§€">
                </a>
            </div>
            <form method="dialog">
                <button class="button__closeToday" value="cancel" id="closeToday">ì˜¤ëŠ˜ í•˜ë£¨ ì•ˆë³´ê¸°</button>
                <button class="button__close" value="default">ë‹«ê¸°</button>
            </form>
        </dialog>
    </div>

      <script>
        document.addEventListener('DOMContentLoaded', function () {
            const popupDialog = document.getElementById('popupDialog');
            const closeTodayBtn = document.getElementById('closeToday');
            const popupElement = document.getElementById('popupContainer'); // íŒì—… ì „ì²´ ìš”ì†Œ

            // ì¿ í‚¤ì—ì„œ 'hidePopup' ê°’ í™•ì¸
            if (document.cookie.indexOf('hidePopup=true') === -1) {
                popupDialog.showModal(); // íŒì—… ì—´ê¸°
            } else {
                popupDialog.close();
                popupElement.style.display = 'none';  // íŒì—… ìš”ì†Œë¥¼ ìˆ¨ê¹€
            }

            // "ì˜¤ëŠ˜ í•˜ë£¨ ì•ˆë³´ê¸°" ë²„íŠ¼ í´ë¦­ ì‹œ
            closeTodayBtn.addEventListener('click', function () {
                // ì¿ í‚¤ì— hidePopup ê°’ ì„¤ì • (í•˜ë£¨ ë™ì•ˆ ìœ ì§€)
                document.cookie = "hidePopup=true; max-age=86400; path=/";
                popupDialog.close();
                popupElement.style.display = 'none';  // íŒì—… ì „ì²´ ìˆ¨ê¸°ê¸°
                document.body.classList.remove('modal-open');  // í˜ì´ì§€ì˜ ìŠ¤í¬ë¡¤ í™œì„±í™”
            });

            // "ë‹«ê¸°" ë²„íŠ¼ í´ë¦­ ì‹œ íŒì—… ë‹«ê¸°
            popupDialog.addEventListener('close', function () {
                popupElement.style.display = 'none';  // íŒì—… ì „ì²´ ìˆ¨ê¸°ê¸°
                document.body.classList.remove('modal-open');  // í˜ì´ì§€ì˜ ìŠ¤í¬ë¡¤ í™œì„±í™”
            });
        });
      </script>



    <!-- ë©”ì¸ ì´ë²¤íŠ¸ ì„¹ì…˜ -->
    <section class="event">
        <h2 class="a11yHidden">ë©”ì¸ ì´ë²¤íŠ¸</h2>
        <div class="event__wrapper">
            <img src="{% static 'images/ì»¬ë¦¬ë°°ë„ˆ1.png' %}" alt="ìƒˆí•™ê¸°ë¥¼ ìœ„í•œ ìŠ¤íƒ€ì¼ ë¹ˆí´í‚¤ì¦ˆ ìŠ¤ì¿¨ë£©" class="event__image active" id="banner1">
            <img src="{% static 'images/ì»¬ë¦¬ë°°ë„ˆ2.png' %}" alt="ëª…ì ˆì—” ê¼¬ê¹Œì˜· ì…ì–´ìš” ì–´ë¦°ì´ í•œë³µ ì¶”ì²œ" class="event__image" id="banner2">
            <img src="{% static 'images/ì»¬ë¦¬ë°°ë„ˆ3.png' %}" alt="í•¨ê»˜ ì¦ê¸°ê¸° ì¢‹ì€ ê°„í¸ì‹ ì´ì§‘í•©" class="event__image" id="banner3">
            <img src="{% static 'images/ì»¬ë¦¬ë°°ë„ˆ4.jpg' %}" alt="ì„ ë¬¼í•˜ê¸° ì¢‹ì€ ë¦¬ë¹™ ìœ„ì‹œë¦¬ìŠ¤íŠ¸" class="event__image" id="banner4">
            <img src="{% static 'images/ì»¬ë¦¬ë°°ë„ˆ5.jpg' %}" alt="ì–¸ì œ, ì–´ë””ì„œë“  ì»¬ë¦¬ì¹´ë“œ ì ë¦½ ìƒí™œ" class="event__image" id="banner5">
            <img src="{% static 'images/ì»¬ë¦¬ë°°ë„ˆ6.jpg' %}" alt="ë§ë‘ ì«€ë“ ë‹¬ì½¤ ì ˆì •ì˜ í™©ë„ ì¦ê¸°ê¸°" class="event__image" id="banner6">

            <button type="button" class="button__left" aria-label="ì™¼ìª½ ì´ë²¤íŠ¸ í˜ì´ì§€ë¡œ ì´ë™" onclick="showPreviousBanner()">
                <img src="{% static 'images/í™”ì‚´í‘œì˜¤ë¥¸ìª½.svg' %}" alt="ì™¼ìª½ ì´ë™ í™”ì‚´í‘œ">
            </button>
            <button type="button" class="button__right" aria-label="ì˜¤ë¥¸ìª½ ì´ë²¤íŠ¸ í˜ì´ì§€ë¡œ ì´ë™" onclick="showNextBanner()">
                <img src="{% static 'images/í™”ì‚´í‘œì™¼ìª½.svg' %}" alt="ì˜¤ë¥¸ìª½ ì´ë™ í™”ì‚´í‘œ">
            </button>
        </div>
    </section>


    <script>
        let currentBanner = 1;
        const totalBanners = 6; // ì „ì²´ ë°°ë„ˆì˜ ìˆ˜

        setInterval(showNextBanner, 3000); //í•´ë‹¹ ì‹œê°„ ì§€ë‚œ í›„ ë‹¤ìŒ ë°°ë„ˆë¡œ
    
        function showNextBanner() {
            const current = document.getElementById(`banner${currentBanner}`);
            current.classList.remove('active');
    
            currentBanner = (currentBanner % totalBanners) + 1; // 1ì—ì„œ totalBannersê¹Œì§€ ìˆœí™˜
    
            const next = document.getElementById(`banner${currentBanner}`);
            next.classList.add('active');
        }
    
        function showPreviousBanner() {
            const current = document.getElementById(`banner${currentBanner}`);
            current.classList.remove('active');
    
            currentBanner = (currentBanner === 1 ? totalBanners : currentBanner - 1); // 1ì—ì„œ totalBannersê¹Œì§€ ìˆœí™˜
    
            const previous = document.getElementById(`banner${currentBanner}`);
            previous.classList.add('active');
        }
    </script>

    <!-- ìƒí’ˆ ìŠ¬ë¼ì´ë” HTML -->
    <section class="goodsUp">
        <br>
        <h2 class="goods__title">ğŸ›’ì´ ìƒí’ˆ ì–´ë•Œìš”?</h2>
        <br>

        <div class="slider-container">
            <div class="slider">
                {% for product in products %}
                <div class="goods__list">
                    <a href="{% url 'shop:product_detail' product.id %}" class="goods__link" title="{{ product.name }} ìƒì„¸í˜ì´ì§€">
                        <dl class="goods__item goods__discount">
                            <dd class="goods__thumbnail">
                                <img src="{{ product.image.url }}" alt="{{ product.name }} ì´ë¯¸ì§€" aria-hidden="true">
                            </dd>
                        </dl>
                    </a>

                    <!-- ëª¨ë‹¬ì°½ -->                    
                    <button type="button" class="button__cart" onclick="openModal('{{ product.name }}',
                                                                                '{{ product.price|floatformat:0|intcomma }}', 
                                                                                '{{ product.discount_price|floatformat:0|intcomma }}',
                                                                                '{{ product.id}}')">
                        ğŸ›’ ë‹´ê¸°
                    </button>
                    



                    <a href="{% url 'shop:product_detail' product.id %}" class="goods__link" title="{{ product.name }} ìƒì„¸í˜ì´ì§€">
                        <dl class="goods__item goods__discount">
                            <dd class="goods__name">{{ product.name }}</dd>
                            {% if product.discount_price %}
                                <dt class="a11yHidden">ì •ìƒê°€</dt>
                                <dd class="goods__regPrice"><del>{{ product.price|floatformat:0|intcomma }} ì›</del></dd>
                                <dt class="a11yHidden">í• ì¸ê°€</dt>
                                <dd class="goods__disPrice">
                                    <b class="goods__disRate">{{ product.discount_percentage }}% </b>
                                    <ins>{{ product.discount_price|floatformat:0|intcomma }} ì›</ins>
                                </dd>
                            {% else %}
                                <dd class="goods__disPrice">
                                    <ins>{{ product.price|floatformat:0|intcomma }} ì›</ins>
                                </dd>
                            {% endif %}
                        </dl>
                    </a>
                </div>
                {% endfor %}
            </div>
            <button class="prev-btn2" aria-label="ì´ì „ ìƒí’ˆìœ¼ë¡œ ì´ë™">
                <img src="{% static 'images/í™”ì‚´í‘œì™¼ìª½.svg' %}" alt="ì´ì „ í™”ì‚´í‘œ">
            </button>
            <!-- ë‹¤ìŒ ë²„íŠ¼ -->
            <button class="next-btn2" aria-label="ë‹¤ìŒ ìƒí’ˆìœ¼ë¡œ ì´ë™">
                <img src="{% static 'images/í™”ì‚´í‘œì˜¤ë¥¸ìª½.svg' %}" alt="ë‹¤ìŒ í™”ì‚´í‘œ">
            </button>
        </div>
    </section>

    <!--ëª¨ë‹¬-->
    <div id="modal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closeModal()">&times;</span>
            <h3 id="modalProductName"></h3>
            <div>
                <span id="discountSection" class="price"><span id="discountPrice"></span></span>
                <span id="normalPrice" class="price"></span> 
                
                <!-- ìˆ˜ëŸ‰ ì„ íƒ -->
                <div class="quantity-container">
                    <label for="quantity"></label>
                    <select id="quantity" onchange="updateTotalPrice()"></select>
                </div>
            </div>

            <!-- í•©ê³„ -->
            <div class="total-price-container">
                <span class="total-label">í•©ê³„</span>
                <span id="totalPrice" class="total-price"></span>
            </div> 

            <!-- ì¥ë°”êµ¬ë‹ˆ ë‹´ê¸° -->                           
            <form id="addToCartForm" method="post">
                {% csrf_token %}
                <input type="hidden" name="quantity" id="formQuantity" value="1">
                <input type="hidden" name="price" id="formPrice" value=""> <!-- ê°€ê²© ì •ë³´ ì¶”ê°€ -->
                <input type="hidden" name="override" value="false">
                <button type="submit" class="addToCart">
                    ì¥ë°”êµ¬ë‹ˆ ë‹´ê¸°
                </button>
            </form>                   
        </div>
    </div>

    <script>
        // ëª¨ë‹¬ ì—´ê¸° í•¨ìˆ˜
        function openModal(name, price, discountPrice, productId) {
            const modal = document.getElementById("modal");
            modal.style.display = "flex"; // ëª¨ë‹¬ì„ í‘œì‹œ

            // body ìŠ¤í¬ë¡¤ ë§‰ê¸°
            document.body.style.overflow = "hidden";

            // ìƒí’ˆëª… ì„¤ì •
            document.getElementById("modalProductName").innerText = name;

            // ì •ìƒ ê°€ê²© ì„¤ì •
            const normalPriceElement = document.getElementById("normalPrice");
            normalPriceElement.innerText = price + "ì›"; // ê°€ê²©ì„ ë¬¸ìì—´ë¡œ í‘œì‹œ

            // í• ì¸ê°€ê°€ ìˆëŠ”ì§€ í™•ì¸í•˜ê³  ì„¤ì •
            const discountSection = document.getElementById("discountSection");
            const discountPriceElement = document.getElementById("discountPrice");

            // ì´ˆê¸°í™” - í•­ìƒ ë¨¼ì € ì‹¤í–‰
            discountSection.style.display = "none"; // í• ì¸ê°€ ì„¹ì…˜ ìˆ¨ê¹€
            normalPriceElement.classList.remove("line-through", "gray-text"); // ê°€ë¡œì¤„ê³¼ íšŒìƒ‰ ì œê±°
            discountPriceElement.innerText = ''; // í• ì¸ ê°€ê²© ì´ˆê¸°í™”
            
            let finalPrice = price;  // ê¸°ë³¸ ê°€ê²© ì„¤ì •
            

            if (discountPrice && discountPrice !== 'None') {
                document.getElementById("discountPrice").innerText = discountPrice + "ì›"; // í• ì¸ê°€ í‘œì‹œ
                discountSection.style.display = "inline"; // í• ì¸ê°€ ì„¹ì…˜ í‘œì‹œ
                normalPriceElement.classList.add("line-through", "gray-text"); // ì •ìƒê°€ì— ê°€ë¡œì¤„ê³¼ íšŒìƒ‰ ì ìš©
                
            } else {
                discountSection.style.display = "none"; // í• ì¸ê°€ê°€ ì—†ìœ¼ë©´ ìˆ¨ê¹€
                normalPriceElement.classList.remove("line-through", "gray-text"); // ê°€ë¡œì¤„ê³¼ íšŒìƒ‰ ì œê±°
            }

            // formPriceë¥¼ ìµœì¢… ê°€ê²©ìœ¼ë¡œ ì„¤ì •
            document.getElementById("formPrice").value = discountPrice && discountPrice !== 'None'
                ? parseInt(discountPrice.replace(/,/g, ''))
                : parseInt(price.replace(/,/g, '')); // í• ì¸ê°€ê°€ ìˆìœ¼ë©´ í• ì¸ê°€, ì—†ìœ¼ë©´ ì •ìƒê°€


            // ìˆ˜ëŸ‰ ì„ íƒ ì˜µì…˜ ìƒì„± (1ë¶€í„° 100ê¹Œì§€)
            const quantitySelect = document.getElementById("quantity");
            quantitySelect.innerHTML = ''; // ê¸°ì¡´ ì˜µì…˜ ì´ˆê¸°í™”
            for (let i = 1; i <= 100; i++) {
                const option = document.createElement("option");
                option.value = i;
                option.text = i;
                quantitySelect.appendChild(option);
            }

            // ì¥ë°”êµ¬ë‹ˆ í¼ì˜ action URL ì„¤ì • (productId í™œìš©)
            document.getElementById("addToCartForm").action = `/cart/add/${productId}/`;

            // ì´ˆê¸° í•©ê³„ ì—…ë°ì´íŠ¸
            updateTotalPrice();
        }

        // ì´ ê°€ê²© ì—…ë°ì´íŠ¸
        function updateTotalPrice() {
            const priceText = document.getElementById("normalPrice").innerText;
            const discountPriceText = document.getElementById("discountPrice").innerText;
            let price = parseInt(priceText.replace(/,/g, '').replace('ì›', '')); // ë¬¸ìì—´ì„ ìˆ«ìë¡œ ë³€í™˜

            // í• ì¸ê°€ê°€ ìˆìœ¼ë©´ í• ì¸ê°€ë¡œ ì„¤ì •
            if (discountPriceText && discountPriceText !== '') {
                price = parseInt(discountPriceText.replace(/,/g, '').replace('ì›', ''));
            }

            // ì„ íƒí•œ ìˆ˜ëŸ‰ ê°€ì ¸ì˜¤ê¸°
            const quantity = parseInt(document.getElementById("quantity").value);

            // ì´ ê°€ê²© ê³„ì‚°
            const totalPrice = price * quantity;
            document.getElementById("totalPrice").innerText = totalPrice.toLocaleString() + "ì›"; // ì´ ê°€ê²© í‘œì‹œ

            // í¼ì— ìˆ˜ëŸ‰ ë° ê°€ê²© ì—…ë°ì´íŠ¸
            document.getElementById("formQuantity").value = quantity;
            document.getElementById("formPrice").value = price; // í• ì¸ê°€ í˜¹ì€ ì •ìƒê°€ ë°˜ì˜
        }

        // ëª¨ë‹¬ ë‹«ê¸° í•¨ìˆ˜
        function closeModal() {
            const modal = document.getElementById("modal");
            
            modal.style.display = "none"; // ëª¨ë‹¬ ìˆ¨ê¹€
            document.body.style.overflow = "auto"; // ë°°ê²½ ìŠ¤í¬ë¡¤ ë‹¤ì‹œ í—ˆìš©
            

        }
    </script>
    <div id="slider-container" data-total-items="{{ total_items }}"></div>
    <script>
        const slider = document.querySelector('.slider');
        const prevBtn = document.querySelector('.prev-btn2');
        const nextBtn = document.querySelector('.next-btn2');

        let currentPage = 1;  // í˜„ì¬ í˜ì´ì§€ ë²ˆí˜¸
        const totalItems = parseInt(document.getElementById('slider-container').getAttribute('data-total-items')) || 0;
        const itemsPerPage = 4;  // í•œ í˜ì´ì§€ì— ë³´ì—¬ì¤„ ìƒí’ˆ ìˆ˜
        const totalPages = Math.ceil(totalItems / itemsPerPage);  // ì´ í˜ì´ì§€ ìˆ˜ ê³„ì‚°

        // ê° ìƒí’ˆì˜ ë„ˆë¹„ (ì´ë¯¸ì§€ í¬ê¸° + ê°„ê²©)
        const itemWidth = 280 + 20;  // ìƒí’ˆ ë„ˆë¹„ + ê°„ê²©(20px)

        // ìŠ¬ë¼ì´ë” ì „ì²´ ë„ˆë¹„ ì„¤ì • (ìƒí’ˆ ë„ˆë¹„ * ì´ ìƒí’ˆ ê°œìˆ˜)
        slider.style.width = `${itemWidth * totalItems}px`;

        // ë‹¤ìŒ ë²„íŠ¼ í´ë¦­ ì‹œ ìƒí’ˆ ë¶€ë“œëŸ½ê²Œ ë„˜ê¸°ê¸°
        function showNextPage() {
            const slider = document.querySelector('.slider');
            if (currentPage < totalPages) {
                currentPage++;  // ë‹¤ìŒ í˜ì´ì§€ë¡œ ì´ë™
            } else {
                currentPage = 1;  // ë§ˆì§€ë§‰ í˜ì´ì§€ì—ì„œ ì²« ë²ˆì§¸ë¡œ ëŒì•„ê°
            }

            const offset = -(currentPage - 1) * itemWidth * itemsPerPage;  // ìŠ¬ë¼ì´ë”ì˜ ë„ˆë¹„ë§Œí¼ ì´ë™
            slider.style.transform = `translateX(${offset}px)`;  // ê°€ë¡œë¡œ ìŠ¬ë¼ì´ë” ì´ë™
        }

        // ì´ì „ ë²„íŠ¼ í´ë¦­ ì‹œ ìƒí’ˆ ë¶€ë“œëŸ½ê²Œ ë„˜ê¸°ê¸°
        function showPreviousPage() {
            const slider = document.querySelector('.slider');
            if (currentPage > 1) {
                currentPage--;  // ì´ì „ í˜ì´ì§€ë¡œ ì´ë™
            } else {
                currentPage = totalPages;  // ì²« ë²ˆì§¸ í˜ì´ì§€ì—ì„œ ë§ˆì§€ë§‰ í˜ì´ì§€ë¡œ
            }

            const offset = -(currentPage - 1) * itemWidth * itemsPerPage;  // ìŠ¬ë¼ì´ë”ì˜ ë„ˆë¹„ë§Œí¼ ì´ë™
            slider.style.transform = `translateX(${offset}px)`;  // ê°€ë¡œë¡œ ìŠ¬ë¼ì´ë” ì´ë™
        }

        // ë²„íŠ¼ì— ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬ ì—°ê²°
        nextBtn.addEventListener('click', showNextPage);
        prevBtn.addEventListener('click', showPreviousPage);

    </script>
    
    <section class="special-offers">
        <h2 class="special-offers__title">&#127873; ì„ ë¬¼íŠ¹ê°€</h2>
        <div class="special-offers__container">
            <div class="special-offers__left">
                <div class="special-offers__timer">
                    <div class="special-offers__timer-icon">
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 36 36" width="20" height="20" preserveAspectRatio="xMidYMid meet">
                            <circle cx="18" cy="18" r="14" fill="rgb(189,118,255)" />
                            <!-- ì‹œì¹¨-->
                            <line x1="18" y1="18" x2="18" y2="10" stroke="rgb(255,255,255)" stroke-width="2" stroke-linecap="round" />
                            <!-- ë¶„ì¹¨ -->
                            <line x1="18" y1="18" x2="26" y2="18" stroke="rgb(255,255,255)" stroke-width="2" stroke-linecap="round" />
                        </svg>
                    </div>
                    <div class="special-offers__timer-countdown" id="countdown">
                        <p>00:00:00</p> <!-- ì´ˆê¸° íƒ€ì´ë¨¸ í‘œì‹œ -->
                    </div>
                </div>
                <br>
                <p class="small-gray-text">ë§ì„¤ì´ë©´ ëŠ¦ì–´ìš”!</p>
            </div>
            <div class="special-offers__right">
                <!-- ì²« ë²ˆì§¸ ìƒí’ˆ -->
                <div class="special-offers__product">
                    <a href="#" class="special-offers__link" title="[ì„ ë¬¼ì„¸íŠ¸] HBAF ë§¤ì¼ ìƒí’ˆí˜ì´ì§€">
                        <dl class="special-offers__product-item special-offers__discount">
                            <dd class="special-offers__product-thumbnail">
                                <img src="{% static 'images/hbaf.jpg' %}" alt="ìƒí’ˆ ì´ë¯¸ì§€" aria-hidden="true">
                            </dd>
                            <button type="button" class="special-offers__button-cart" aria-label="ì¥ë°”êµ¬ë‹ˆë¡œ ì´ë™">
                                ğŸ›’ ë‹´ê¸°
                            </button>
                            <dd class="special-offers__product-name">
                                <span aria-hidden="true">[ì£¼ë§íŠ¹ê°€][</span>ì„ ë¬¼ì„¸íŠ¸<span aria-hidden="true">]</span> HBAF ë§¤ì¼ ìƒ‰ë‹¤ë¥¸ ë¨¼íˆ¬ì¬ í•˜ë£¨ê²¬ê³¼ 6ì£¼ (20gX42ë´‰)
                            </dd>
                            <dt class="a11yHidden">ì •ìƒê°€</dt>
                            <dd class="special-offers__product-regPrice">
                                <del>34,900 ì›</del>
                            </dd>
                            <dt class="a11yHidden">í• ì¸ê°€</dt>
                            <dd class="special-offers__product-disPrice">
                                <b class="special-offers__product-disRate">20%</b>
                                <ins>27,900 ì›</ins>
                            </dd>
                        </dl>
                    </a>
                </div>
                <!-- ë‘ ë²ˆì§¸ ìƒí’ˆ -->
                <div class="special-offers__product">
                    <a href="#" class="special-offers__link" title="[ì„ ë¬¼ì„¸íŠ¸] ì„¤ë íƒ• ìƒì„¸í˜ì´ì§€">
                        <dl class="special-offers__product-item special-offers__discount">
                            <dd class="special-offers__product-thumbnail">
                                <img src="{% static 'images/ì„¤ë íƒ•.jpg' %}" alt="ìƒí’ˆ ì´ë¯¸ì§€" aria-hidden="true">
                            </dd>
                            <button type="button" class="special-offers__button-cart" aria-label="ì¥ë°”êµ¬ë‹ˆë¡œ ì´ë™">
                                ğŸ›’ ë‹´ê¸°
                            </button>
                            <dd class="special-offers__product-name">
                                <span aria-hidden="true">[ì£¼ë§íŠ¹ê°€][</span>ì„ ë¬¼ì„¸íŠ¸<span aria-hidden="true">]</span> ì‹ ì„ ì„¤ë†íƒ• ê³ ê¸° ì„¤ë íƒ•6ì… ì„¸íŠ¸
                            </dd>
                            <dt class="a11yHidden">ì •ìƒê°€</dt>
                            <dd class="special-offers__product-regPrice">
                                <del>46,000 ì›</del>
                            </dd>
                            <dt class="a11yHidden">í• ì¸ê°€</dt>
                            <dd class="special-offers__product-disPrice">
                                <b class="special-offers__product-disRate">20%</b>
                                <ins>36,800 ì›</ins>
                            </dd>
                        </dl>
                    </a>
                </div>
            </div>
        </div>
    </section>
    <script>
        document.addEventListener("DOMContentLoaded", function() {
            function updateCountdown(endTime) {
                const now = new Date();
                const timeRemaining = endTime - now;
                
                // ë§Œì•½ ì‹œê°„ì´ ì´ë¯¸ ì§€ë‚¬ë‹¤ë©´ ì¢…ë£Œ
                if (timeRemaining <= 0) {
                    document.querySelector("#countdown p").textContent = '00:00:00';
                    return;
                }
                
                const days = Math.floor(timeRemaining / (1000 * 60 * 60 * 24));
                const hours = Math.floor((timeRemaining % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
                const minutes = Math.floor((timeRemaining % (1000 * 60 * 60)) / (1000 * 60));
                const seconds = Math.floor((timeRemaining % (1000 * 60)) / 1000);
    
                // 'ì¼'ì„ ì¡°ê±´ë¶€ë¡œ ì¶œë ¥
                const dayString = days > 0 ? `${days}ì¼ ` : '';
                document.querySelector("#countdown p").textContent =
                    `${dayString}${String(hours).padStart(2, '0')}:${String(minutes).padStart(2, '0')}:${String(seconds).padStart(2, '0')}`;
            }
    
            // ë¡œì»¬ ìŠ¤í† ë¦¬ì§€ì—ì„œ ì¢…ë£Œ ì‹œê°„ ë¶ˆëŸ¬ì˜¤ê¸°
            let endTime = localStorage.getItem("endTime");
            
            // ì¢…ë£Œ ì‹œê°„ì´ ì—†ê±°ë‚˜ ì´ë¯¸ ì¢…ë£Œëœ ê²½ìš° ìƒˆë¡œ ì„¤ì •
            if (!endTime || new Date(endTime) - new Date() <= 0) {
                endTime = new Date();
                endTime.setMinutes(endTime.getMinutes() + 120);
                localStorage.setItem("endTime", endTime); // ì¢…ë£Œ ì‹œê°„ì„ ë¡œì»¬ ìŠ¤í† ë¦¬ì§€ì— ì €ì¥
            } else {
                endTime = new Date(endTime);
            }
    
            // 1ì´ˆë§ˆë‹¤ ì¹´ìš´íŠ¸ë‹¤ìš´ ì—…ë°ì´íŠ¸
            setInterval(() => updateCountdown(endTime), 1000);
        });

                
    </script>

    

   <br>
        <!-- banner -->    
        <section class="banner">        
            <div class="banner_container">    
                <a href="#" class="banner_link"> 
                    <img 
                        src="{% static 'images/ë¯¸ë‹ˆ ë°°ë„ˆ1.jpg' %}"
                        alt="ë°°ë„ˆ ì´ë¯¸ì§€" 
                        class="banner_image" 
                        style="object-fit: cover; width: 100%; height: 100%;">
                </a>
            </div>
        </section>


    <!--í–¥ì€: ë‘ ë²ˆì§¸ ì„¹ì…˜ ë¶€ë¶„ì€ ìƒí’ˆ ë“±ë¡ ì•ˆí•˜ê³  ì¼ë‹¨ ì´ë ‡ê²Œ ëƒ…ë‘˜ê²Œìš”!!!-->
    <br>
        <!-- ë‘ ë²ˆì§¸ ì„¹ì…˜ ì¶”ê°€ -->
    <section class="goodsUp">
        <br>
        <!-- ìƒí’ˆ2 ì œëª© -->
        <h2 class="goods__title">&#127765; ìµœëŒ€ í˜œíƒìœ¼ë¡œ ì¶”ì„ ë§ì´! ğŸ‚</h2>
        <br>
        <!-- ìƒí’ˆ2 ëª©ë¡ -->
        <div class="goods__group">
            <!-- ì²«ë²ˆì§¸ ìš”ì†Œ -->
            <div class="goods__list">
                <a href="#" class="goods__link" title="[ì„ ë¬¼ì„¸íŠ¸] í˜¸ì£¼ì‚° LAê½ƒê°ˆë¹„ ìƒì„¸í˜ì´ì§€">
                    <dl class="goods__item goods__discount">
                        <dd class="goods__thumbnail">
                            <img src="{% static 'images/ê½ƒê°ˆë¹„.jpg' %}" alt="ìƒí’ˆ ì´ë¯¸ì§€" aria-hidden="true">
                        </dd>
                        <button type="button" class="button__cart" aria-label="ì¥ë°”êµ¬ë‹ˆë¡œ ì´ë™">
                            ğŸ›’ ë‹´ê¸°
                        </button>
                        <dd class="goods__name">
                            <span aria-hidden="true">[</span>ì„ ë¬¼ì„¸íŠ¸<span aria-hidden="true">]</span> í˜¸ì£¼ì‚° LAê½ƒê°ˆë¹„ 2kg(ëƒ‰ë™) (ì˜ˆì•½ì¼ ìˆ˜ë ¹)
                        </dd>
                        <dt class="a11yHidden">ì •ìƒê°€</dt>
                        <dd class="goods__regPrice"><del>139,900 ì›</del></dd>
                        <dt class="a11yHidden">í• ì¸ê°€</dt>
                        <dd class="goods__disPrice">
                            <b class="goods__disRate">24%</b>
                            <ins>104,990 ì›</ins>
                        </dd>
                    </dl>
                </a>
            </div>

            <!-- ë‘ë²ˆì§¸ ìš”ì†Œ -->
            <div class="goods__list">
                <a href="#" class="goods__link" title="[ì„ ë¬¼ì„¸íŠ¸] ê³µì§„ë‹¨ ìƒì„¸í˜ì´ì§€">
                    <dl class="goods__item goods__discount">
                        <dd class="goods__thumbnail">
                            <img src="{% static 'images/ê³µì§„ë‹¨.jpg' %}" alt="ìƒí’ˆ ì´ë¯¸ì§€" aria-hidden="true">
                        </dd>
                        <button type="button" class="button__cart" aria-label="ì¥ë°”êµ¬ë‹ˆë¡œ ì´ë™">
                            ğŸ›’ ë‹´ê¸°
                        </button>
                        <dd class="goods__name">
                            <span aria-hidden="true">[</span>ì„ ë¬¼ì„¸íŠ¸<span aria-hidden="true">]</span> í˜œìœ° ë³„ë¹›ê³µì§„ +(ë³´ìê¸°í¬ì¥ ë° ì‡¼í•‘ë°± ì¦ì •)
                        </dd>
                        <dt class="a11yHidden">ì •ìƒê°€</dt>
                        <dd class="goods__regPrice"><del>160,000 ì›</del></dd>
                        <dt class="a11yHidden">í• ì¸ê°€</dt>
                        <dd class="goods__disPrice">
                            <b class="goods__disRate">35%</b>
                            <ins>104,000 ì›</ins>
                        </dd>
                    </dl>
                </a>
            </div>
            

            <!-- ì„¸ë²ˆì§¸ ìš”ì†Œ -->
            <div class="goods__list">
                <a href="#" class="goods__link" title="[ì •ê´€ì¥] í™ì‚¼ì • ì—ë¸Œë¦¬íƒ€ì„ ìƒì„¸í˜ì´ì§€">
                    <dl class="goods__item goods__discount">
                        <dd class="goods__thumbnail">
                            <img src="{% static 'images/ì •ê´€ì¥.jpg' %}" alt="ìƒí’ˆ ì´ë¯¸ì§€" aria-hidden="true">
                        </dd>
                        <button type="button" class="button__cart" aria-label="ì¥ë°”êµ¬ë‹ˆë¡œ ì´ë™">
                            ğŸ›’ ë‹´ê¸°
                        </button>
                        <dd class="goods__name">
                            <span aria-hidden="true">[</span>ì •ê´€ì¥<span aria-hidden="true">]</span> í™ì‚¼ì • ì—ë¸Œë¦¬íƒ€ì„ ì†Œí”„íŠ¸ (30ì¼ë¶„) (+ë³´ìê¸°í¬ì¥)
                        </dd>
                        <dt class="a11yHidden">ì •ìƒê°€</dt>
                        <dd class="goods__regPrice"><del>77,000 ì›</del></dd>
                        <dt class="a11yHidden">í• ì¸ê°€</dt>
                        <dd class="goods__disPrice">
                            <b class="goods__disRate">10%</b>
                            <ins>69,300 ì›</ins>
                        </dd>
                    </dl>
                </a>
            </div>
            

            <!-- ë„¤ë²ˆì§¸ ìš”ì†Œ -->
            <div class="goods__list">
                <a href="#" class="goods__link" title="[ë¹„ì˜¤í…œ] ì•„ì¿ ì•„ íŒŒì›Œ ì˜¬ì¸ì› ìƒì„¸í˜ì´ì§€">
                    <dl class="goods__item goods__discount">
                        <dd class="goods__thumbnail">
                            <img src="{% static 'images/ì˜¬ì¸ì›.jpg' %}" alt="ìƒí’ˆ ì´ë¯¸ì§€" aria-hidden="true">
                        </dd>
                        <button type="button" class="button__cart" aria-label="ì¥ë°”êµ¬ë‹ˆë¡œ ì´ë™">
                            ğŸ›’ ë‹´ê¸°
                        </button>
                        <dd class="goods__name">
                            <span aria-hidden="true">[</span>ë¹„ì˜¤í…œ<span aria-hidden="true">]</span> ì•„ì¿ ì•„ íŒŒì›Œ ì˜¬ì¸ì› 200ml ì¶”ì„ ì„ ë¬¼ì„¸íŠ¸
                        </dd>
                        <dt class="a11yHidden">ì •ìƒê°€</dt>
                        <dd class="goods__regPrice">
                            <del>62,000 ì›</del>
                        </dd>
                        <dt class="a11yHidden">í• ì¸ê°€</dt>
                        <dd class="goods__disPrice">
                            <b class="goods__disRate">15%</b>
                            <ins>52,700 ì›</ins>
                        </dd>
                    </dl>
                </a>
            </div>
    </section>
    <br>

    {% include 'common/footer.html' %}
</body>
</html>
